# **Jenkins Interview Questions**

## **1. If we have 5 stages in a Jenkins pipeline and 5th stage has a syntax error, what will happen?**

### **Scenario**

You have a declarative Jenkinsfile with 5 stages. Stage 5 contains a mistake like a missing bracket or incorrect syntax.

### **Explanation**

* Jenkins **validates the entire Jenkinsfile before executing any stage**.
* If there is a syntax error in **any stage (including last stage)**:

  * Jenkins **fails the pipeline immediately** during the *parsing phase*.
  * **No stages will run** at all.

### **Interview Answer**

“In declarative pipelines, Jenkins performs a full syntax validation before execution. So even if the syntax error is in the final stage, Jenkins aborts the pipeline during initialization. None of the stages start running.”

---

## **2. How are you integrating SonarQube with the Jenkins server?**

### **Scenario**

Your organization uses SonarQube for static code analysis. Developers push code to GitHub, Jenkins runs CI and reports code quality.

### **Steps**

1. **Install SonarQube Scanner Plugin** in Jenkins.
2. In Jenkins → **Manage Jenkins → Global Tool Configuration**, configure the **SonarQube Scanner path**.
3. In Jenkins → **Manage Jenkins → Configure System**, add:

   * SonarQube Server URL
   * Authentication Token
4. In Jenkinsfile, add:

```
withSonarQubeEnv('My-Sonar-Server') {
    sh 'sonar-scanner'
}
```

5. Add Quality Gate check:

```
waitForQualityGate abortPipeline: true
```

### **Interview Answer**

“I integrated SonarQube with Jenkins by configuring the sonar server under global settings, installing the sonar-scanner plugin, storing the token as a credential, and adding `withSonarQubeEnv` and `waitForQualityGate` steps in the Jenkinsfile. This ensures static code analysis and quality gate enforcement automatically in the CI pipeline.”

---

## **3. How were you authenticating Jenkins to push Docker image to registry?**

### **Scenario**

You are pushing application images to Docker Hub or ECR.

### **Solutions**

1. **Using Jenkins Credentials**

   * Store Docker Hub username/password or ECR IAM credentials in Jenkins Credentials.
   * Use inside pipeline:

     ```
     withCredentials([usernamePassword(credentialsId: 'docker-creds', usernameVariable: 'USER', passwordVariable: 'PASS')]) {
         sh "echo $PASS | docker login -u $USER --password-stdin"
     }
     ```

2. **For AWS ECR**

   * Use AWS Credentials plugin.
   * Configure IAM user in Jenkins credentials.
   * Use:

     ```
     sh "aws ecr get-login-password | docker login --username AWS --password-stdin <ECR_URL>"
     ```

### **Interview Answer**

“I authenticate Jenkins with Docker registries using Jenkins credentials binding. For Docker Hub, I use username/password stored in Jenkins. For ECR, I use the AWS Credentials plugin and `aws ecr get-login-password` to generate a temporary token.”

---

## **4. Jenkins is failing to push a Docker image to registry. How do you troubleshoot?**

### **Typical Real Issues**

1. **Wrong credentials** → 401 unauthorized
2. **TLS or certificate issue**
3. **Network/firewall blocking registry**
4. **ECR token expired**
5. **Docker daemon permission denied**
6. **Wrong image tag format**

### **Troubleshooting Steps**

1. Check Jenkins console logs.
2. Validate docker login step.
3. Test login manually inside Jenkins agent:

   ```
   docker login …
   ```
4. Validate ECR auth token.
5. Check disk space on Jenkins agent.
6. Test pushing a dummy image.

### **Interview Answer**

“I check credentials, network access, ECR token expiry, Docker daemon permissions, and verify the Jenkins node has access to the registry. Most failures are due to wrong credentials or expired tokens.”

---

## **5. Your CI/CD pipeline has failed in Jenkins. How do you investigate?**

### **Approach**

1. **Check console logs**
   → Identify exact stage of failure
2. **Check agent/node issues**

   * Disk full
   * JVM memory
   * Node offline
3. **Check service credentials**

   * Git
   * Docker
   * Sonar
4. **Check plugins**
5. **Redeploy the workspace**
6. **Retry pipeline with debug flags**

### **Interview Answer**

“I start by checking pipeline logs, identify the exact failing stage, verify node health, check credentials, environment variables, plugin issues, and workspace corruption. If needed, I re-run with verbose logging.”

---

## **6. How do you store sensitive information like passwords in Jenkins?**

### **Solutions**

* **Jenkins Credentials Store**

  * Username/password
  * Secret text
  * AWS credentials
  * SSH private key
* Access using:

  ```
  withCredentials([...]) {}
  ```

### **Interview Answer**

“I store passwords using Jenkins Credentials Store and use `withCredentials` block in pipelines so secrets never appear in logs.”

---

## **7. Explain how you would set up a multi-branch Jenkins pipeline for a GitHub repository.**

### **Steps**

1. Install **Multibranch Pipeline Plugin**.
2. Create **Multibranch Pipeline Job**.
3. Configure GitHub repo URL + credentials.
4. Jenkins automatically scans:

   * main
   * dev
   * feature/*
5. Each branch must contain its own **Jenkinsfile**.
6. Jenkins builds each branch independently.

### **Interview Answer**

“I use Multibranch pipeline so Jenkins automatically detects all branches, runs their Jenkinsfiles, and triggers builds when developers push changes.”

---

## **8. How would you implement dynamic stages in a Jenkinsfile based on environment variables?**

### **Example**

```
def envList = params.ENVIRONMENTS.split(',')

envList.each { env ->
    stage("Deploy to ${env}") {
        sh "./deploy.sh ${env}"
    }
}
```

### **Interview Answer**

“I read environment variables or parameters inside a scripted pipeline and generate stages using loops. This helps run dynamic deployments like dev, qa, prod based on user input.”

---

## **9. Terraform scripts for creating AWS services Jenkinsfile EKS and On-Prem K8s cluster upgrade steps**

### **High-Level CI/CD Flow**

1. Use **Terraform plugin** or shell steps.
2. Run:

   ```
   terraform init
   terraform plan
   terraform apply
   ```
3. For EKS upgrade:

   * Update EKS version in terraform.
   * Upgrade node groups.
   * Drain/cordon nodes.
4. For On-Prem K8s upgrade:

   * Upgrade control plane nodes.
   * Upgrade kubelet/kubeadm.
   * Apply cluster updates.

### **Interview Answer**

“I automate AWS resources and EKS upgrades using Terraform in Jenkins. Terraform plan is reviewed and approved, then applied, and for Kubernetes upgrades we follow a rolling upgrade with cordon/drain procedures.”

---

## **10. Jenkins pipeline setup Kubernetes – If a pod is getting restarted constantly, what steps will you follow?**

### **Troubleshooting Steps**

1. Check restart reason:

   ```
   kubectl describe pod <pod>
   ```
2. Check container logs:

   ```
   kubectl logs <pod> --previous
   ```
3. Check liveness/readiness probes.
4. Check resource limits (OOMKilled).
5. Check config maps, secrets, environment variables.
6. Verify image tag and registry access.
7. In Jenkins, verify:

   * Kubernetes plugin
   * YAML template
   * Node/pod provisioning logs

### **Interview Answer**

“I check pod events, previous logs, probe configuration, resource limits, and Jenkins Kubernetes agent template. Most constant restarts are due to wrong env vars or failing liveness probe.”
